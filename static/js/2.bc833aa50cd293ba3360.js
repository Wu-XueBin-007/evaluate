webpackJsonp([2],{"5ENc":function(a,t){},K31e:function(a,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=s("Havv"),l={name:"login",data:()=>({username:"",password:"",loadingstatus:!1}),mounted(){},methods:{login(){if(!this.username.trim()||!this.password.trim())return void this.$toast.fail("参数不能为空");let a={username:this.username,password:this.password};this.loadingstatus=!0,e.a.post("login",a).then(a=>{if(console.log(a),a.data.code){let t=a.data.data.token;t?(localStorage.setItem("token",t),this.$router.push({path:"/list"})):(this.$toast.fail("token为空"),this.loadingstatus=!1)}else this.$toast.fail(a.data.msg?a.data.msg:"参数有误"),this.loadingstatus=!1}).catch(a=>{this.$toast.fail("登录失败"),console.log(a)})},usernameval(a){this.username=a},passwordval(a){this.password=a}}},i={render:function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("div",{staticClass:"app"},[s("div",{staticClass:"loginwrop"},[s("van-cell-group",[s("h1",{staticClass:"title"},[a._v("登录")]),a._v(" "),s("van-field",{staticClass:"inp",attrs:{required:"",clearable:"",label:"用户名",placeholder:"请输入用户名","left-icon":"contact"},on:{input:a.usernameval},model:{value:a.username,callback:function(t){a.username=t},expression:"username"}}),a._v(" "),s("van-field",{staticClass:"inp",attrs:{type:"password",label:"密码",placeholder:"请输入密码",required:"",clearable:"","left-icon":"bag-o"},on:{input:a.passwordval},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}}),a._v(" "),s("van-button",{staticClass:"btn",attrs:{type:"primary",size:"large",hairline:"",loading:a.loadingstatus,"loading-text":"登录..."},on:{click:a.login}},[a._v("登录")])],1)],1)])},staticRenderFns:[]};var n=s("C7Lr")(l,i,!1,function(a){s("5ENc")},"data-v-a87be0ac",null);t.default=n.exports}});
//# sourceMappingURL=2.bc833aa50cd293ba3360.js.map